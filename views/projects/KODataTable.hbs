<h5>Changelog</h5>
<hr>
<blockquote>
    <p>1.0.2</p>
    <small>Fix auto-search throttling</small>
</blockquote>
<blockquote>
    <p>1.0.1</p>
    <small>Added pageCount observable</small>
</blockquote>
<blockquote>
    <p>1.0.0</p>
    <small>Initial Release</small>
</blockquote>

<h5>Install</h5>
<hr>
<pre class="prettyprint">
(bower): bower install ko-datatable
(optional) bower install jtablescroll

(npm): npm install ko-datatable
(optional) npm install jtablescroll

(nuget): Package-Install KODataTable
(optional): Package-Install jTableScroll
</pre>

<h5>Add-on Modules</h5>
<hr>
<a href="/projects/jTableScroll">Reactive Scrolling</a><br />
<a href="https://github.com/rgeerts/KODataTable-dragable" target="_blank">Draggable Columns</a>

<h5>Html</h5>
<hr>
<pre class="prettyprint">
&lt;div id="kodt">
    &lt;div>
        &lt;input type="text" data-bind="value: searchText, valueUpdate: 'afterkeydown'" />
        &lt;select data-bind="value: selectedColumn, options: columns">&lt;/select>
        &lt;button data-bind="click: search">Search&lt;/button>
    &lt;/div>
    &lt;div>
        &lt;table class="jTableScroll">
            &lt;thead>
                &lt;tr data-bind="foreach: columns">
                    &lt;th data-bind="text: $data,
                        click: function() { $parent.sort($index()) }" style="cursor: pointer">&lt;/th>
                &lt;/tr>
            &lt;/thead>
            &lt;tbody data-bind="foreach: currentRows">
                &lt;tr data-bind="foreach: $parent.columns,
                    click: function () { $root.selectRow($data); },
                    css: { 'success': $root.selectedRow() == $data }">
                    &lt;td data-bind="text: $parent[$data]" style="cursor: pointer">&lt;/td>
                &lt;/tr>
            &lt;/tbody>
        &lt;/table>
    &lt;/div>
    &lt;div>
        &lt;button data-bind="click: firstPage">First&lt;/button>
        &lt;button data-bind="click: prevPage">Prev&lt;/button>
        Page &lt;span data-bind="text: currentPage() + 1">&lt;/span> of &lt;span data-bind="text: pageCount">&lt;/span>
        &lt;button data-bind="click: nextPage">Next&lt;/button>
        &lt;button data-bind="click: lastPage">Last&lt;/button>
    &lt;/div>
&lt;/div>
</pre>

<h5>Javascript</h5>
<hr>
<pre class="prettyprint">
&lt;script src="KODataTable-1.0.2.js"&gt;&lt;/script&gt;
&lt;script src="jquery.jTableScroll-1.6.0.js"&gt;&lt;/script&gt;
&lt;script>
    var TableDataVM = new KODataTable({ options });
    ko.applyBindings(TableDataVM, document.getElementById("kodt"));
&lt;/script>
</pre>

<h5>Options (JSON Object)</h5>
<hr>
<pre class="prettyprint">
{
columns: (Array[String]) List of columns - ex: ["Id","Name","Description"]
rows: (Array[JSON Object]) Row data - ex: [{Id:1, Name: "Mike Allison", Description: "Desc 1"}]
searchText: (string)(optional) initial search text
currentPage: (integer)(optional) current starting page
pageSize: (integer)(optional) number of rows to display (default: 20)
tableHeight: (integer)(optional) height of result table if scrolling
tableWidth: (integer)(optional) width of result table if scrolling
autoSearch: (boolean)(optional) enable auto-search (default: true)
firstFn: (function)(optional) function to perform on first page event
nextFn: (function)(optional) function to perform on next page event
prevFn: (function)(optional) function to perform on prev page event
lastFn: (function)(optional) function to perform on last page event
searchFn: (function)(optional) function to perform on search click event
sortFn: (function)(optional) sort event function
selectFn: (function)(optional) select event function
}
</pre>

<h5>Additional</h5>
<hr>
<p>columns, rows, and selectedRow can all be set or accessed dynamically through your viewmodel. This can easily attached to external datasources such as webservices</p>
<pre class="prettyprint">TableDataVM.rows(yourNewRowData);</pre>

<h5>Example</h5>
<div id="kodt">
    <div class="row">
        <div class="input-field col s5">
            <input type="text" class="black-text" data-bind="value: searchText, valueUpdate: 'afterkeydown'" id="search" />
            <label for="search">Search</label>
        </div>
        <div class="input-field col s4">
            <select class="black-text" data-bind="value: selectedColumn, options: columns"></select>
            <label>Column</label>
        </div>
        <div class="input-field col s3">
            <button class="btn" data-bind="click: search">Search</button>
        </div>
    </div>
    <div>
        <table class="striped hoverable jTableScroll">
            <thead>
            <tr data-bind="foreach: columns">
                <th data-bind="text: $data, click: function() { $parent.sort($index()) }" style="cursor: pointer"></th>
            </tr>
            </thead>
            <tbody data-bind="foreach: currentRows">
            <tr data-bind="foreach: $parent.columns, click: function () { $root.selectRow($data); },  css: { 'success': $root.selectedRow() == $data }">
                <td data-bind="text: $parent[$data]" style="cursor: pointer"></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="center">
        <button class="btn btn-default" data-bind="click: firstPage">First</button>
        <button class="btn btn-default" data-bind="click: prevPage">Prev</button>
        Page <span data-bind="text: currentPage() + 1"></span> of <span data-bind="text: pageCount"></span>
        <button class="btn btn-default" data-bind="click: nextPage">Next</button>
        <button class="btn btn-default" data-bind="click: lastPage">Last</button>
    </div>
</div>


{{#contentFor "scripts"}}
<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
<script src="/bower_components/knockout/dist/knockout.js"></script>
<script src="/bower_components/jtablescroll/jquery.jTableScroll.js"></script>

<script src="/bower_components/ko-datatable/KODataTable.js"></script>
<script>

    var FirstNames = ["John", "Jane", "Richard", "Trista", "Mike"];
    var LastNames = ["Doe", "Allison", "Wright", "Jones", "Smith"];

    function FillTable() {
        var rowData = [];
        for (var i = 0; i < FirstNames.length; i++) {
            for (var j = 0; j < LastNames.length; j++) {
                var iCount = (i * FirstNames.length) + j;
                rowData[iCount] =
                {
                    Id: iCount + 1,
                    Name: FirstNames[i] + " " + LastNames[j],
                    Description: "Description " + (iCount + 1)
                };
            }
        }
        TableDataVM.selectedRow(-1);
        TableDataVM.rows(rowData);

    }


    var TableDataVM = new KODataTable(
            {
                columns: ["Id", "Name", "Description"],
                tableHeight: 500
            });
    FillTable();
    ko.applyBindings(TableDataVM, document.getElementById("kodt"));
</script>
{{/contentFor}}