<p class="lead">Source</p>
<p><a href="/Scripts/MATools.KOTable.js">MATools.KOTable.js</a></p>

<div id="changelog">
    <a class="lead" data-toggle="collapse" data-parent="#changelog" href="#collapseOne">Changelog <i class="fa fa-angle-right" id="changelogIcon"></i></a>
    <div id="collapseOne" class="collapse">
        <blockquote>
            <p>1.0.0</p>
            <small>Initial Release</small>
        </blockquote>
    </div>
</div>
<br />

<p class="lead">Html</p>
<p>
<pre class="prettyprint">
&lt;table id="KOTable"&gt;
    &lt;thead&gt;
        &lt;tr data-bind="foreach: columns"&gt;
            &lt;th data-bind="text: $data,
                click: function() { $parent.sort($index()) }"
                style="cursor: pointer"&gt;&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody data-bind="foreach: rows"&gt;
        &lt;tr data-bind="foreach: $parent.columns,
            click: function () { $root.selectRow($index()); },
            css: { 'success': $root.selectedRow() == $index() }"&gt;
            &lt;td data-bind="text: $parent[$data] " style="cursor: pointer"&gt;&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/tbody&gt;
&lt;/table&gt;
    </pre>
</p>

<p class="lead">Javascript</p>
<p>
<pre class="prettyprint">
&lt;script src="MATools.KOTable.js"&gt;&lt;/script&gt;
&lt;script>
    var TableDataVM = new MATools.KOTable(options);
    ko.applyBindings(TableDataVM, document.getElementById("KOTable"));
&lt;/script&gt;
    </pre>
</p>

<p class="lead">Options (JSON Object)</p>
<p>
<pre class="prettyprint">
{
columns: (Array[String]) List of columns - ex: ["Id","Name","Description"]
rows: (Array[JSON Object]) Row data - ex: [{Id:1, Name: "Mike Allison", Description: "Desc 1"}]
initialSort: (Int)(optional) Initial column to sort by index
sort: (function)(optional) sort event function
selectedRow: (Int)(optional) Selected row index
selectRow: (function)(optional) select event function
}
    </pre>
</p>

<p class="lead">Additional</p>
<p>columns, rows, and selectedRow can all be set or accessed dynamically through your viewmodel. This can easily attached to external datasources such as webservices</p>
<p><code>TableDataVM.rows(yourNewRowData);</code></p>

<p class="lead">Example</p>
<button onclick="FillTable()" class="btn" value="Fill Table">Fill Table</button>

<div class="panel">
    <div class="panel-body">
        <table class="table table-striped table-hover" id="KOTable">
            <thead>
            <tr data-bind="foreach: columns">
                <th data-bind="text: $data, click: function() { $parent.sort($index()) }" style="cursor: pointer"></th>
            </tr>
            </thead>
            <tbody data-bind="foreach: rows">
            <tr data-bind="foreach: $parent.columns, click: function () { $root.selectRow($index()); },  css: { 'success': $root.selectedRow() == $index() }">
                <td data-bind="text: $parent[$data]" style="cursor: pointer"></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>


<hr />
<footer>
    <p class="text-muted">&copy; Mike Allison 2015</p>
</footer>
</div>
</div>

{{#contentFor "scripts"}}
<script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
<script src="/bower_components/knockout/dist/knockout.js"></script>

<script src="/scripts/MATools.KOTable.js"></script>
<script>
    $('#collapseOne').on('shown.bs.collapse', function () {
        $("#changelogIcon").removeClass("fa-angle-right").addClass("fa-angle-down");
    });

    $('#collapseOne').on('hidden.bs.collapse', function () {
        $("#changelogIcon").removeClass("fa-angle-down").addClass("fa-angle-right");
    });

    var FirstNames = ["John", "Jane", "Richard", "Trista", "Mike"];
    var LastNames = ["Doe", "Allison", "Wright", "Jones", "Smith"];

    function FillTable() {
        var rowData = [];
        for (var i = 0; i < FirstNames.length; i++) {
            for (var j = 0; j < LastNames.length; j++) {
                var iCount = (i * FirstNames.length) + j;
                rowData[iCount] =
                {
                    Id: iCount + 1,
                    Name: FirstNames[i] + " " + LastNames[j],
                    Description: "Description " + (iCount + 1)
                };
            }
        }
        TableDataVM.selectedRow(-1);
        TableDataVM.rows(rowData);

    }

    var TableDataVM = new MATools.KOTable(
            {
                columns: ["Id", "Name", "Description"]
            });
    ko.applyBindings(TableDataVM, document.getElementById("KOTable"));
</script>
{{/contentFor}}